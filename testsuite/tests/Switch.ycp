{

    include "testsuite.ycp";

    map READ = $[
	"etc" : $[ "install_inf" : $[] ],
	"target" : $[ "ycp" : $[] ],
	"probe" : $[ "system" : []],
    ];

    TESTSUITE_INIT([READ], nil);
    import "ProfileManager";


    map EX_true =
    $[ "scpm":
        $[ "switch" : true ]
    ];

    map EX_false =
    $[ "scpm":
        $[ "switch" : false ]
    ];

    ProfileManager::active_profile = "default";
    ProfileManager::selected_profile = "home";

    ProfileManager::switch_info =
    $[ "profile_name": "home",
       "profile_modified": true,
       "modified_resources": []
    ];

    DUMP(ProfileManager::active_profile);

	TEST (``(ProfileManager::Switch()), [ $[], $[], EX_false ], nil);

    DUMP(ProfileManager::active_profile);

	TEST (``(ProfileManager::Switch()), [ $[], $[], EX_true ], nil);

    DUMP(ProfileManager::active_profile);

}
