/**
 * Author:	Jiri Suchomel <jsuchome@suse.cz>
 * $Id$
 */
{
    // testedfiles: ProfileManager.ycp
    import "Testsuite";
    import "ProfileManager";


    ProfileManager::switch_info =
    $[ "profile_name": "home",
       "profile_modified": true,
       "modified_resources":
       [ $[ "resource_name": "/etc/X11/XF86Config",
            "resource_type": "file",
            "is_new": false,
            "is_deleted": true,
            "save": true
         ],
         $[ "resource_name": "sendmail",
            "resource_type": "service",
            "is_new": false,
            "is_deleted": true,
            "save": false
         ],
       ]
    ];

    Testsuite::Dump(ProfileManager::switch_info);
    Testsuite::Dump("---------");

    ProfileManager::active_resource = 0;
    Testsuite::Dump("changing 'save' flag of resource 0");
    Testsuite::Test (``(ProfileManager::SetSaveFlag()), [ $[], $[], $[] ], nil);
    Testsuite::Dump(ProfileManager::switch_info);
    Testsuite::Dump("---------");

    ProfileManager::active_resource = 1;
    Testsuite::Dump("changing 'save' flag of resource 1");
    Testsuite::Test (``(ProfileManager::SetSaveFlag()), [ $[], $[], $[] ], nil);
    Testsuite::Dump(ProfileManager::switch_info);
}
