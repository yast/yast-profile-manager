<HTML>
<HEAD>
<TITLE>SCPM agent description</TITLE>
<!-- $Id$ -->
</HEAD>
<BODY>
<H1>SCPM agent description</H1>
<HR>

<H2>Purpose</H2> 
The SCPM agent (<TT>ag_scpm</TT>) is used to access SCPM library.

<P>
<H2>Implementation</H2>
The agent creates a SCPM object and calls the functions from SCPM library (=SCPM object methods). Look at these methods at <A HREF="/usr/include/scpm.h"><TT>/usr/include/scpm.h</TT></a>.

<P>
<I><B>Note:</B> The complete development documentation is available in the
<A HREF="autodocs/index.html"><TT>autodocs/</TT></A> directory.</I>

<P>
<H2>Interface for SCPM-agent</H2>
The interface is implemented as a SCR agent with the usual <TT>Read()</TT>,
<TT>Write()</TT> and <TT>Dir()</TT> interface. The path prefix used is

<UL><TT>.scpm</TT></UL>
<TT>...</TT>

<P>
<H2>Restrictions, limits and future enhancements</H2>
<p>
<b>Important:</b>If you want to use SCPM, don't forget to call <tt>Execute(.scpm)</tt> at first and <tt>Write(.scpm, nil)</tt> at the end. These calls do necessary initialization work (creating and destroying SCPM object).

<P>
See the <A HREF="Todo.txt">Todo.txt</A> file for the current status of support
and also for the list of possible future enhancements.

<P>
<H2>Complete Read paths table</H2>

<TABLE>
	<TR><TH WIDTH="20%" ALIGN="left">Path</TH><th width="10%" align="left">Argument</th><TH WIDTH="10%" ALIGN="left">Type</TH><TH ALIGN="left">Result</TH></TR>
	<TR><TD><TT>.scpm.status</TD><td></td><TD ALIGN="left">YCPList</TD>
	<TD>list of two booleans; these says if SCPM is enabled and initialized</TD></TR>
	<TR><TD><TT>.scpm.profiles</TD><td></td><TD ALIGN="left">YCPList</TD>
	<TD>list with all available profiles</TD></TR>
	<TR><TD><TT>.scpm.profiles.current</TD><td></td><TD ALIGN="left">YCPString</TD>
	<TD>the name of the active profile</TD></TR>
	<TR><TD><TT>.scpm.profiles.description</TD><td align="left">YCPString</td><TD ALIGN="left">YCPString</TD>
	<TD>the description of the profile given as argument; if no argument is given, active profile is used (also in following calls)</TD></TR>
	<TR><TD><TT>.scpm.profiles.prestart</TD><td align="left">YCPString</td><TD ALIGN="left">YCPString</TD>
	<TD>path to the prestart script of the given profile</TD></TR>
	<TR><TD><TT>.scpm.profiles.poststart</TD><td align="left">YCPString</td><TD ALIGN="left">YCPString</TD>
	<TD>path to the poststart script of the given profile</TD></TR>
	<TR><TD><TT>.scpm.profiles.prestop</TD><td align="left">YCPString</td><TD ALIGN="left">YCPString</TD>
	<TD>path to the prestop script of the given profile</TD></TR>
	<TR><TD><TT>.scpm.profiles.poststop</TD><td align="left">YCPString</td><TD ALIGN="left">YCPString</TD>
	<TD>path to the poststop script of the given profile</TD></TR>
	<TR><TD><TT>.scpm.resources</TD><td></td><TD ALIGN="left">YCPList</TD>
	<TD>list contaning two list of available resource sets, predefined and individual (e.g. [ [ "default" ], [ "my_set" ] ]</TD></TR>
	<TR><TD><TT>.scpm.resources.current</TD><td></td><TD ALIGN="left">YCPString</TD>
	<TD>name of the current resource set</TD></TR>
</TABLE>

<P>
<H2>Complete Write paths table</H2>
Return values are YCPBoolean (the success of the library call) or YCPVoid (no/bad argument).
<TABLE>
	<TR><TH WIDTH="20%" ALIGN="left">Path</TH><th WIDTH="15%" align="left">Argument</th><TH ALIGN="left">Result</TH></TR>
	<TR><TD><TT>.scpm</TD><td></td>
	<TD>calls a destructor of the SCPM object</TD></TR>
	<TR><TD><TT>.scpm.status.enabled</TD><TD ALIGN="left">YCPBoolean</TD>
	<TD>enables/disables SCPM</TD></TR>
	<TR><TD><TT>.scpm.resources.current</TD><TD ALIGN="left">YCPString</TD>
	<TD>changes the active resource set to the given one</TD></TR>
	<TR><TD><TT>.scpm.profiles.description</TD><td align="left">YCPString</td>
	<TD>sets the new description of the given profile; if nil argument is given, active profile is used (also in following calls)</TD></TR>
</TABLE>


<P>
<ADDRESS>
Jiri Suchomel &lt;jsuchome@suse.cz&gt;<BR>
</ADDRESS>


</BODY>
</HTML>
